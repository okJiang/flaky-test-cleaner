# Example env for flaky-test-cleaner
# Copy to .env and fill secrets.

# --- GitHub ---
# Source repo (read-only): where Actions runs/jobs/logs are fetched from
FTC_GITHUB_OWNER=tikv
FTC_GITHUB_REPO=pd

# Write repo (write): where issues/PRs/labels/comments are created
FTC_GITHUB_WRITE_OWNER=okjiang
FTC_GITHUB_WRITE_REPO=pd

# Required: GitHub token with Actions read access on the SOURCE repo
FTC_GITHUB_READ_TOKEN=

# Required unless dry-run: token with Issues/PR write permissions on the WRITE repo
FTC_GITHUB_ISSUE_TOKEN=

# Optional overrides
FTC_GITHUB_API_BASE_URL=https://api.github.com
FTC_WORKFLOW_NAME=PD Test
FTC_MAX_RUNS=20
FTC_MAX_JOBS=50
FTC_CONFIDENCE_THRESHOLD=0.75
FTC_REQUEST_TIMEOUT=30s
FTC_RUN_INTERVAL=0
FTC_DRY_RUN=true
FTC_BASE_BRANCH=main

# --- TiDB (optional state store) ---
# Local TiDB example: mysql --host 127.0.0.1 --port 4000 -u root
FTC_TIDB_ENABLED=false
TIDB_HOST=127.0.0.1
TIDB_PORT=4000
TIDB_USER=root
TIDB_PASSWORD=
TIDB_DATABASE=flaky_test_cleaner
# Optional: when set, TLS is enabled and DSN uses tls=tidb
# TIDB_CA_CERT_PATH=/path/to/ca.pem

# --- Workspace (for FixAgent / PR flow; used only when not dry-run) ---
FTC_WORKSPACE_MIRROR=cache/tikv-pd.git
FTC_WORKSPACE_WORKTREES=worktrees
FTC_WORKSPACE_MAX=2

# --- Copilot SDK (optional) ---
FTC_COPILOT_SDK_ENABLED=false
FTC_COPILOT_MODEL=gpt-5
FTC_COPILOT_TIMEOUT=60s
FTC_COPILOT_LOG_LEVEL=error
